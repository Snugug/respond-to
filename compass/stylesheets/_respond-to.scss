////////////////////////
// Import the Breakpoint partial
////////////////////////
@import 'breakpoint';

////////////////////////
// Default the Breakpoints variable
////////////////////////
$breakpoints: false !default;

////////////////////////
// Respond-to API Mixin
////////////////////////
@mixin respond-to($context, $media: $breakpoint-default-media) {
  @if $breakpoints  != false {
    @each $bkpt in $breakpoints {
      @if $context == nth($bkpt, 1) {
        @debug $bkpt;
        $length: length($bkpt);
        $mq: false !default;
        
        @for $i from 2 through $length {
          // If it's the first item, override $mq
          @if $i == 2 {
            $mq: nth($bkpt, $i);
          }
          // Else, join $mq
          @else {
            $mq: join($mq, nth($bkpt, $i));
          }
        }
        @debug $mq;
        
        @include breakpoint($mq, $media) {
          @content;
        }
      }
    }
  }
}